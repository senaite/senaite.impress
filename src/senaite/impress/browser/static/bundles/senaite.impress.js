(()=>{var t={142:(t,e,n)=>{var r,o,a=n(311);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}o={settings:{barWidth:1,barHeight:50,moduleSize:5,showHRI:!0,addQuietZone:!0,marginHRI:5,bgColor:"#FFFFFF",color:"#000000",fontSize:10,output:"css",posX:0,posY:0},intval:function(t){var e=c(t);return"string"==e?(t=t.replace(/[^0-9-.]/g,""),t=parseInt(1*t,10),isNaN(t)||!isFinite(t)?0:t):"number"==e&&isFinite(t)?Math.floor(t):0},i25:{encoding:["NNWWN","WNNNW","NWNNW","WWNNN","NNWNW","WNWNN","NWWNN","NNNWW","WNNWN","NWNWN"],compute:function(t,e,n){if(e){"int25"==n&&t.length%2==0&&(t="0"+t);for(var r,i=!0,a=0,c=t.length-1;c>-1;c--){if(r=o.intval(t.charAt(c)),isNaN(r))return"";a+=i?3*r:r,i=!i}t+=((10-a%10)%10).toString()}else t.length%2!=0&&(t="0"+t);return t},getDigit:function(t,e,n){if(""==(t=this.compute(t,e,n)))return"";var r,o;if(result="","int25"==n){var i,a;for(result+="1010",r=0;r<t.length/2;r++)for(i=t.charAt(2*r),a=t.charAt(2*r+1),o=0;o<5;o++)result+="1","W"==this.encoding[i].charAt(o)&&(result+="1"),result+="0","W"==this.encoding[a].charAt(o)&&(result+="0");result+="1101"}else if("std25"==n){var c;for(result+="11011010",r=0;r<t.length;r++)for(c=t.charAt(r),o=0;o<5;o++)result+="1","W"==this.encoding[c].charAt(o)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111","1110100"]],first:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],getDigit:function(t,e){var n,r="ean8"==e?7:12;if((t=t.substring(0,r)).length!=r)return"";for(var i=0;i<t.length;i++)if((n=t.charAt(i))<"0"||n>"9")return"";t=this.compute(t,e);var a="101";if("ean8"==e){for(i=0;i<4;i++)a+=this.encoding[o.intval(t.charAt(i))][0];for(a+="01010",i=4;i<8;i++)a+=this.encoding[o.intval(t.charAt(i))][2]}else{var c=this.first[o.intval(t.charAt(0))];for(i=1;i<7;i++)a+=this.encoding[o.intval(t.charAt(i))][o.intval(c.charAt(i-1))];for(a+="01010",i=7;i<13;i++)a+=this.encoding[o.intval(t.charAt(i))][2]}return a+"101"},compute:function(t,e){var n="ean13"==e?12:7;t=t.substring(0,n);var r=0,a=!0;for(i=t.length-1;i>-1;i--)r+=(a?3:1)*o.intval(t.charAt(i)),a=!a;return t+((10-r%10)%10).toString()}},msi:{encoding:["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],compute:function(t,e){return"object"==c(e)?("mod10"==e.crc1?t=this.computeMod10(t):"mod11"==e.crc1&&(t=this.computeMod11(t)),"mod10"==e.crc2?t=this.computeMod10(t):"mod11"==e.crc2&&(t=this.computeMod11(t))):"boolean"==typeof e&&e&&(t=this.computeMod10(t)),t},computeMod10:function(t){var e,n=t.length%2,r=0,i=0;for(e=0;e<t.length;e++)n?r=10*r+o.intval(t.charAt(e)):i+=o.intval(t.charAt(e)),n=!n;var a=(2*r).toString();for(e=0;e<a.length;e++)i+=o.intval(a.charAt(e));return t+((10-i%10)%10).toString()},computeMod11:function(t){for(var e=0,n=2,r=t.length-1;r>=0;r--)e+=n*o.intval(t.charAt(r)),n=7==n?2:n+1;return t+((11-e%11)%11).toString()},getDigit:function(t,e){var n=0,r="";for(t=this.compute(t,!1),r="110",i=0;i<t.length;i++){if((n="0123456789".indexOf(t.charAt(i)))<0)return"";r+=this.encoding[n]}return r+"1001"}},code11:{encoding:["101011","1101011","1001011","1100101","1011011","1101101","1001101","1010011","1101001","110101","101101"],getDigit:function(t){var e,n,r="0123456789-",o="";for(o="10110010",e=0;e<t.length;e++){if((n=r.indexOf(t.charAt(e)))<0)return"";o+=this.encoding[n]+"0"}var i=0,a=0,c=1,s=0;for(e=t.length-1;e>=0;e--)c=10==c?1:c+1,a+=(i=10==i?1:i+1)*(n=r.indexOf(t.charAt(e))),s+=c*n;var u=a%11,l=(s+=u)%11;return o+=this.encoding[u]+"0",t.length>=10&&(o+=this.encoding[l]+"0"),o+"1011001"}},code39:{encoding:["101001101101","110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100100100101","100100101001","100101001001","101001001001","100101101101"],getDigit:function(t){var e,n,r="";if(t.indexOf("*")>=0)return"";for(t=("*"+t+"*").toUpperCase(),e=0;e<t.length;e++){if((n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*".indexOf(t.charAt(e)))<0)return"";e>0&&(r+="0"),r+=this.encoding[n]}return r}},code93:{encoding:["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],getDigit:function(t,e){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*",r="";if(t.indexOf("*")>=0)return"";for(t=t.toUpperCase(),r+=this.encoding[47],i=0;i<t.length;i++){if(o=t.charAt(i),index=n.indexOf(o),"_"==o||index<0)return"";r+=this.encoding[index]}if(e){var o,a=0,c=0,s=1,u=0;for(i=t.length-1;i>=0;i--)a=20==a?1:a+1,s=15==s?1:s+1,index=n.indexOf(t.charAt(i)),c+=a*index,u+=s*index;var l=(u+=o=c%47)%47;r+=this.encoding[o],r+=this.encoding[l]}return(r+=this.encoding[47])+"1"}},code128:{encoding:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010"],getDigit:function(t){var e=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",n="",r=0,i=0,a=0,c=0,s=0;for(a=0;a<t.length;a++)if(-1==e.indexOf(t.charAt(a)))return"";var u=t.length>1,l="";for(a=0;a<3&&a<t.length;a++)u&=(l=t.charAt(a))>="0"&&l<="9";for(r=u?105:104,n=this.encoding[r],a=0;a<t.length;){if(u)(a==t.length||t.charAt(a)<"0"||t.charAt(a)>"9"||t.charAt(a+1)<"0"||t.charAt(a+1)>"9")&&(u=!1,n+=this.encoding[100],r+=100*++i);else{for(c=0;a+c<t.length&&t.charAt(a+c)>="0"&&t.charAt(a+c)<="9";)c++;(u=c>5||a+c-1==t.length&&c>3)&&(n+=this.encoding[99],r+=99*++i)}u?(s=o.intval(t.charAt(a)+t.charAt(a+1)),a+=2):(s=e.indexOf(t.charAt(a)),a+=1),n+=this.encoding[s],r+=++i*s}return n+=this.encoding[r%103],(n+=this.encoding[106])+"11"}},codabar:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],getDigit:function(t){var e,n,r="";for(r+=this.encoding[16]+"0",e=0;e<t.length;e++){if((n="0123456789-$:/.+".indexOf(t.charAt(e)))<0)return"";r+=this.encoding[n]+"0"}return r+this.encoding[16]}},datamatrix:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],mappingRows:[8,10,12,14,16,18,20,22,24,28,32,36,40,44,48,56,64,72,80,88,96,108,120,132,6,6,10,10,14,14],mappingCols:[8,10,12,14,16,18,20,22,24,28,32,36,40,44,48,56,64,72,80,88,96,108,120,132,16,28,24,32,32,44],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(t,e){return t&&e?this.aLogTab[(this.logTab[t]+this.logTab[e])%255]:0},champGaloisDoub:function(t,e){return t?e?this.aLogTab[(this.logTab[t]+e)%255]:t:0},champGaloisSum:function(t,e){return t^e},selectIndex:function(t,e){if((t<1||t>1558)&&!e)return-1;if((t<1||t>49)&&e)return-1;var n=0;for(e&&(n=24);this.dataCWCount[n]<t;)n++;return n},encodeDataCodeWordsASCII:function(t){var e,n,r=new Array,o=0;for(e=0;e<t.length;e++)(n=t.charCodeAt(e))>127?(r[o]=235,n-=127,o++):n>=48&&n<=57&&e+1<t.length&&t.charCodeAt(e+1)>=48&&t.charCodeAt(e+1)<=57?(n=10*(n-48)+(t.charCodeAt(e+1)-48),n+=130,e++):n++,r[o]=n,o++;return r},addPadCW:function(t,e,n){var r,o;if(!(e>=n))for(t[e]=129,o=e+1;o<n;o++)r=149*(o+1)%253+1,t[o]=(129+r)%254},calculSolFactorTable:function(t){var e,n,r=new Array;for(e=0;e<=t;e++)r[e]=1;for(e=1;e<=t;e++)for(n=e-1;n>=0;n--)r[n]=this.champGaloisDoub(r[n],e),n>0&&(r[n]=this.champGaloisSum(r[n],r[n-1]));return r},addReedSolomonCW:function(t,e,n,r,o){var i,a,c,s=0,u=t/o,l=new Array;for(c=0;c<o;c++){for(i=0;i<u;i++)l[i]=0;for(i=c;i<n;i+=o)for(s=this.champGaloisSum(r[i],l[u-1]),a=u-1;a>=0;a--)l[a]=s?this.champGaloisMult(s,e[a]):0,a>0&&(l[a]=this.champGaloisSum(l[a-1],l[a]));for(a=n+c,i=u-1;i>=0;i--)r[a]=l[i],a+=o}return r},getBits:function(t){for(var e=new Array,n=0;n<8;n++)e[n]=t&128>>n?1:0;return e},next:function(t,e,n,r,o,i){var a=0,c=4,s=0;do{c==e&&0==s?(this.patternShapeSpecial1(o,i,r[a],e,n),a++):t<3&&c==e-2&&0==s&&n%4!=0?(this.patternShapeSpecial2(o,i,r[a],e,n),a++):c==e-2&&0==s&&n%8==4?(this.patternShapeSpecial3(o,i,r[a],e,n),a++):c==e+4&&2==s&&n%8==0&&(this.patternShapeSpecial4(o,i,r[a],e,n),a++);do{c<e&&s>=0&&1!=i[c][s]&&(this.patternShapeStandard(o,i,r[a],c,s,e,n),a++),c-=2,s+=2}while(c>=0&&s<n);c+=1,s+=3;do{c>=0&&s<n&&1!=i[c][s]&&(this.patternShapeStandard(o,i,r[a],c,s,e,n),a++),c+=2,s-=2}while(c<e&&s>=0);c+=3,s+=1}while(c<e||s<n)},patternShapeStandard:function(t,e,n,r,o,i,a){this.placeBitInDatamatrix(t,e,n[0],r-2,o-2,i,a),this.placeBitInDatamatrix(t,e,n[1],r-2,o-1,i,a),this.placeBitInDatamatrix(t,e,n[2],r-1,o-2,i,a),this.placeBitInDatamatrix(t,e,n[3],r-1,o-1,i,a),this.placeBitInDatamatrix(t,e,n[4],r-1,o,i,a),this.placeBitInDatamatrix(t,e,n[5],r,o-2,i,a),this.placeBitInDatamatrix(t,e,n[6],r,o-1,i,a),this.placeBitInDatamatrix(t,e,n[7],r,o,i,a)},patternShapeSpecial1:function(t,e,n,r,o){this.placeBitInDatamatrix(t,e,n[0],r-1,0,r,o),this.placeBitInDatamatrix(t,e,n[1],r-1,1,r,o),this.placeBitInDatamatrix(t,e,n[2],r-1,2,r,o),this.placeBitInDatamatrix(t,e,n[3],0,o-2,r,o),this.placeBitInDatamatrix(t,e,n[4],0,o-1,r,o),this.placeBitInDatamatrix(t,e,n[5],1,o-1,r,o),this.placeBitInDatamatrix(t,e,n[6],2,o-1,r,o),this.placeBitInDatamatrix(t,e,n[7],3,o-1,r,o)},patternShapeSpecial2:function(t,e,n,r,o){this.placeBitInDatamatrix(t,e,n[0],r-3,0,r,o),this.placeBitInDatamatrix(t,e,n[1],r-2,0,r,o),this.placeBitInDatamatrix(t,e,n[2],r-1,0,r,o),this.placeBitInDatamatrix(t,e,n[3],0,o-4,r,o),this.placeBitInDatamatrix(t,e,n[4],0,o-3,r,o),this.placeBitInDatamatrix(t,e,n[5],0,o-2,r,o),this.placeBitInDatamatrix(t,e,n[6],0,o-1,r,o),this.placeBitInDatamatrix(t,e,n[7],1,o-1,r,o)},patternShapeSpecial3:function(t,e,n,r,o){this.placeBitInDatamatrix(t,e,n[0],r-3,0,r,o),this.placeBitInDatamatrix(t,e,n[1],r-2,0,r,o),this.placeBitInDatamatrix(t,e,n[2],r-1,0,r,o),this.placeBitInDatamatrix(t,e,n[3],0,o-2,r,o),this.placeBitInDatamatrix(t,e,n[4],0,o-1,r,o),this.placeBitInDatamatrix(t,e,n[5],1,o-1,r,o),this.placeBitInDatamatrix(t,e,n[6],2,o-1,r,o),this.placeBitInDatamatrix(t,e,n[7],3,o-1,r,o)},patternShapeSpecial4:function(t,e,n,r,o){this.placeBitInDatamatrix(t,e,n[0],r-1,0,r,o),this.placeBitInDatamatrix(t,e,n[1],r-1,o-1,r,o),this.placeBitInDatamatrix(t,e,n[2],0,o-3,r,o),this.placeBitInDatamatrix(t,e,n[3],0,o-2,r,o),this.placeBitInDatamatrix(t,e,n[4],0,o-1,r,o),this.placeBitInDatamatrix(t,e,n[5],1,o-3,r,o),this.placeBitInDatamatrix(t,e,n[6],1,o-2,r,o),this.placeBitInDatamatrix(t,e,n[7],1,o-1,r,o)},placeBitInDatamatrix:function(t,e,n,r,o,i,a){r<0&&(r+=i,o+=4-(i+4)%8),o<0&&(o+=a,r+=4-(a+4)%8),1!=e[r][o]&&(t[r][o]=n,e[r][o]=1)},addFinderPattern:function(t,e,n,r,o){var i=(r+2)*e,a=(o+2)*n,c=new Array;c[0]=new Array;for(var s=0;s<a+2;s++)c[0][s]=0;for(var u=0;u<i;u++)for(c[u+1]=new Array,c[u+1][0]=0,c[u+1][a+1]=0,s=0;s<a;s++)u%(r+2)==0?c[u+1][s+1]=s%2==0?1:0:u%(r+2)==r+1?c[u+1][s+1]=1:s%(o+2)==o+1?c[u+1][s+1]=u%2==0?0:1:s%(o+2)==0?c[u+1][s+1]=1:(c[u+1][s+1]=0,c[u+1][s+1]=t[u-1-2*parseInt(u/(r+2))][s-1-2*parseInt(s/(o+2))]);for(c[i+1]=new Array,s=0;s<a+2;s++)c[i+1][s]=0;return c},getDigit:function(t,e){var n=this.encodeDataCodeWordsASCII(t),r=n.length,o=this.selectIndex(r,e),i=this.dataCWCount[o],a=this.solomonCWCount[o],c=i+a,s=this.lengthRows[o],u=this.lengthCols[o],l=this.regionRows[o],f=this.regionCols[o],p=this.dataRegionRows[o],h=this.dataRegionCols[o],d=s-2*l,y=u-2*f,m=this.interleavedBlocks[o],b=a/m;this.addPadCW(n,r,i);var v=this.calculSolFactorTable(b);this.addReedSolomonCW(a,v,i,n,m);for(var g=new Array,w=0;w<c;w++)g[w]=this.getBits(n[w]);var _=new Array,O=new Array;for(w=0;w<y;w++)_[w]=new Array,O[w]=new Array;return d*y%8==4&&(_[d-2][y-2]=1,_[d-1][y-1]=1,_[d-1][y-2]=0,_[d-2][y-1]=0,O[d-2][y-2]=1,O[d-1][y-1]=1,O[d-1][y-2]=1,O[d-2][y-1]=1),this.next(0,d,y,g,_,O),this.addFinderPattern(_,l,f,p,h)}},lec:{cInt:function(t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>=8;return n},cRgb:function(t,e,n){return String.fromCharCode(n)+String.fromCharCode(e)+String.fromCharCode(t)},cHexColor:function(t){var e=parseInt("0x"+t.substr(1)),n=255&e,r=255&(e>>=8),o=e>>8;return this.cRgb(o,r,n)}},hexToRGB:function(t){var e=parseInt("0x"+t.substr(1)),n=255&e;return{r:(e>>=8)>>8,g:255&e,b:n}},isHexColor:function(t){var e=new RegExp("#[0-91-F]","gi");return t.match(e)},base64Encode:function(t){for(var e,n,r,o,i,a,c,s="",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0;l<t.length;)o=(e=t.charCodeAt(l++))>>2,i=(3&e)<<4|(n=t.charCodeAt(l++))>>4,a=(15&n)<<2|(r=t.charCodeAt(l++))>>6,c=63&r,isNaN(n)?a=c=64:isNaN(r)&&(c=64),s+=u.charAt(o)+u.charAt(i)+u.charAt(a)+u.charAt(c);return s},bitStringTo2DArray:function(t){var e=[];e[0]=[];for(var n=0;n<t.length;n++)e[0][n]=t.charAt(n);return e},resize:function(t,e){return t.css("padding","0px").css("overflow","auto").css("width",e+"px").html(""),t},digitToBmpRenderer:function(t,e,n,r,o,i){var a=n.length,c=n[0].length,s=0,u=this.isHexColor(e.bgColor)?this.lec.cHexColor(e.bgColor):this.lec.cRgb(255,255,255),l=this.isHexColor(e.color)?this.lec.cHexColor(e.color):this.lec.cRgb(0,0,0),f="",p="";for(s=0;s<o;s++)f+=u,p+=l;var h=(4-o*c*3%4)%4,d=(o*c+h)*i*a,y="";for(s=0;s<h;s++)y+="\0";for(var m="BM"+this.lec.cInt(54+d,4)+"\0\0\0\0"+this.lec.cInt(54,4)+this.lec.cInt(40,4)+this.lec.cInt(o*c,4)+this.lec.cInt(i*a,4)+this.lec.cInt(1,2)+this.lec.cInt(24,2)+"\0\0\0\0"+this.lec.cInt(d,4)+this.lec.cInt(2835,4)+this.lec.cInt(2835,4)+this.lec.cInt(0,4)+this.lec.cInt(0,4),b=a-1;b>=0;b--){for(var v="",g=0;g<c;g++)v+="0"==n[b][g]?f:p;v+=y;for(var w=0;w<i;w++)m+=v}var _=document.createElement("object");_.setAttribute("type","image/bmp"),_.setAttribute("data","data:image/bmp;base64,"+this.base64Encode(m)),this.resize(t,o*c+h).append(_)},digitToBmp:function(t,e,n,r){var i=o.intval(e.barWidth),a=o.intval(e.barHeight);this.digitToBmpRenderer(t,e,this.bitStringTo2DArray(n),r,i,a)},digitToBmp2D:function(t,e,n,r){var i=o.intval(e.moduleSize);this.digitToBmpRenderer(t,e,n,r,i,i)},digitToCssRenderer:function(t,e,n,r,o,i){for(var a,c,s=n.length,u=n[0].length,l="",f='<div style="float: left; font-size: 0px; background-color: '+e.bgColor+"; height: "+i+'px; width: &Wpx"></div>',p='<div style="float: left; font-size: 0px; width:0; border-left: &Wpx solid '+e.color+"; height: "+i+'px;"></div>',h=0;h<s;h++){a=0,c=n[h][0];for(var d=0;d<u;d++)c==n[h][d]?a++:(l+=("0"==c?f:p).replace("&W",a*o),c=n[h][d],a=1);a>0&&(l+=("0"==c?f:p).replace("&W",a*o))}e.showHRI&&(l+='<div style="clear:both; width: 100%; background-color: '+e.bgColor+"; color: "+e.color+"; text-align: center; font-size: "+e.fontSize+"px; margin-top: "+e.marginHRI+'px;">'+r+"</div>"),this.resize(t,o*u).html(l)},digitToCss:function(t,e,n,r){var i=o.intval(e.barWidth),a=o.intval(e.barHeight);this.digitToCssRenderer(t,e,this.bitStringTo2DArray(n),r,i,a)},digitToCss2D:function(t,e,n,r){var i=o.intval(e.moduleSize);this.digitToCssRenderer(t,e,n,r,i,i)},digitToSvgRenderer:function(t,e,n,r,i,a){var c=n.length,s=n[0].length,u=i*s,l=a*c;if(e.showHRI){var f=o.intval(e.fontSize);l+=o.intval(e.marginHRI)+f}var p='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+u+'" height="'+l+'">';p+='<rect width="'+u+'" height="'+l+'" x="0" y="0" fill="'+e.bgColor+'" />';for(var h,d,y='<rect width="&W" height="'+a+'" x="&X" y="&Y" fill="'+e.color+'" />',m=0;m<c;m++){h=0,d=n[m][0];for(var b=0;b<s;b++)d==n[m][b]?h++:("1"==d&&(p+=y.replace("&W",h*i).replace("&X",(b-h)*i).replace("&Y",m*a)),d=n[m][b],h=1);h>0&&"1"==d&&(p+=y.replace("&W",h*i).replace("&X",(s-h)*i).replace("&Y",m*a))}e.showHRI&&(p+='<g transform="translate('+Math.floor(u/2)+' 0)">',p+='<text y="'+(l-Math.floor(f/2))+'" text-anchor="middle" style="font-family: Arial; font-size: '+f+'px;" fill="'+e.color+'">'+r+"</text>",p+="</g>"),p+="</svg>";var v=document.createElement("object");v.setAttribute("type","image/svg+xml"),v.setAttribute("data","data:image/svg+xml,"+p),this.resize(t,u).append(v)},digitToSvg:function(t,e,n,r){var i=o.intval(e.barWidth),a=o.intval(e.barHeight);this.digitToSvgRenderer(t,e,this.bitStringTo2DArray(n),r,i,a)},digitToSvg2D:function(t,e,n,r){var i=o.intval(e.moduleSize);this.digitToSvgRenderer(t,e,n,r,i,i)},digitToCanvasRenderer:function(t,e,n,r,o,i,a,c){var s=t.get(0);if(s&&s.getContext){var u=n.length,l=n[0].length,f=s.getContext("2d");f.lineWidth=1,f.lineCap="butt",f.fillStyle=e.bgColor,f.fillRect(o,i,l*a,u*c),f.fillStyle=e.color;for(var p=0;p<u;p++){for(var h=0,d=n[p][0],y=0;y<l;y++)d==n[p][y]?h++:("1"==d&&f.fillRect(o+(y-h)*a,i+p*c,a*h,c),d=n[p][y],h=1);h>0&&"1"==d&&f.fillRect(o+(l-h)*a,i+p*c,a*h,c)}if(e.showHRI){var m=f.measureText(r);f.fillText(r,o+Math.floor((l*a-m.width)/2),i+u*c+e.fontSize+e.marginHRI)}}},digitToCanvas:function(t,e,n,r){var i=o.intval(e.barWidth),a=o.intval(e.barHeight),c=o.intval(e.posX),s=o.intval(e.posY);this.digitToCanvasRenderer(t,e,this.bitStringTo2DArray(n),r,c,s,i,a)},digitToCanvas2D:function(t,e,n,r){var i=o.intval(e.moduleSize),a=o.intval(e.posX),c=o.intval(e.posY);this.digitToCanvasRenderer(t,e,n,r,a,c,i,i)}},(r=a).fn.extend({barcode:function(t,e,n){var i="",a="",s="",u=!0,l=!1,f=!1;if("string"==typeof t?s=t:"object"==c(t)&&(s="string"==typeof t.code?t.code:"",u=void 0===t.crc||t.crc,l=void 0!==t.rect&&t.rect),""==s)return!1;for(var p in void 0===n&&(n=[]),o.settings)null==n[p]&&(n[p]=o.settings[p]);switch(e){case"std25":case"int25":i=o.i25.getDigit(s,u,e),a=o.i25.compute(s,u,e);break;case"ean8":case"ean13":i=o.ean.getDigit(s,e),a=o.ean.compute(s,e);break;case"code11":i=o.code11.getDigit(s),a=s;break;case"code39":i=o.code39.getDigit(s),a=s;break;case"code93":i=o.code93.getDigit(s,u),a=s;break;case"code128":i=o.code128.getDigit(s),a=s;break;case"codabar":i=o.codabar.getDigit(s),a=s;break;case"msi":i=o.msi.getDigit(s,u),a=o.msi.compute(s,u);break;case"datamatrix":i=o.datamatrix.getDigit(s,l),a=s,f=!0}if(0==i.length)return r(this);!f&&n.addQuietZone&&(i="0000000000"+i+"0000000000");var h=r(this),d="digitTo"+n.output.charAt(0).toUpperCase()+n.output.substr(1)+(f?"2D":"");return"function"==typeof o[d]&&o[d](h,n,i,a),h}})},852:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(476),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,".folding {\n  margin: 20px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  transform: rotateZ(45deg);\n}\n\n.folding .sk-cube {\n  float: left;\n  width: 50%;\n  height: 50%;\n  position: relative;\n  transform: scale(1.1);\n}\n\n.folding .sk-cube:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #dc3545;\n  animation: sk-foldCubeAngle 2.4s infinite linear both;\n  transform-origin: 100% 100%;\n}\n\n.folding .sk-cube2 {\n  transform: scale(1.1) rotateZ(90deg);\n}\n\n.folding .sk-cube3 {\n  transform: scale(1.1) rotateZ(180deg);\n}\n\n.folding .sk-cube4 {\n  transform: scale(1.1) rotateZ(270deg);\n}\n\n.folding .sk-cube2:before {\n  animation-delay: 0.3s;\n}\n\n.folding .sk-cube3:before {\n  animation-delay: 0.6s;\n}\n\n.folding .sk-cube4:before {\n  animation-delay: 0.9s;\n}\n\n@keyframes sk-foldCubeAngle {\n  0%,\n  10% {\n    transform: perspective(140px) rotateX(-180deg);\n    opacity: 0;\n  }\n  25%,\n  75% {\n    transform: perspective(140px) rotateX(0deg);\n    opacity: 1;\n  }\n  90%,\n  100% {\n    transform: perspective(140px) rotateY(180deg);\n    opacity: 0;\n  }\n}\n",""]);const i=o},476:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},892:(t,e,n)=>{"use strict";var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],o=0;o<t.length;o++){var c=t[o],s=e.base?c[0]+e.base:c[0],u=n[s]||0,l="".concat(s," ").concat(u);n[s]=u+1;var f=a(l),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:l,updater:y(p,e),references:1}),r.push(l)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=h||(h=s(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var s=c(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=s}}}},311:t=>{"use strict";t.exports=jQuery}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=React;var e=n.n(t);const r=ReactDOM;var o,i=n.n(r),a=n(311),c=n.n(a),s=(n(142),n(311));function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}o=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this}var e,n;return e=t,n=[{key:"parse_html",value:function(t){return(new DOMParser).parseFromString(t,"text/html")}},{key:"get_base_url",value:function(){return document.URL.split("?")[0]}},{key:"get_api_url",value:function(t){var e,n,r,o;return e=(r=location.pathname.split("/"))[r.length-1],o=this.get_base_url().split(e)[0],n=location.search,"".concat(o).concat("ajax_publish","/").concat(t).concat(n)}},{key:"get_url_parameter",value:function(t){var e;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))}},{key:"get_items",value:function(){return this.get_url_parameter("items").split(",")}},{key:"get_reports",value:function(t){var e;return t||(t=this.get_items()),e={data:{items:t}},this.get_json("get_reports",e)}},{key:"get_json",value:function(t,e){var n,r,o,i,a;return null==e&&(e={}),o=e.method||"POST",n=JSON.stringify(e.data)||"{}",a=this.get_api_url(t),r={method:o,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.get_csrf_token()},body:"POST"===o?n:null,credentials:"include"},i=new Request(a,r),fetch(i).then((function(t){return 200!==t.status?t.json().then((function(t){throw new Error(t.error||"Unknown Error")})):t.json()}))}},{key:"render_reports",value:function(t){var e;return e={data:t},this.get_json("render_reports",e)}},{key:"save_reports",value:function(t){var e;return e={data:t},this.get_json("save_reports",e)}},{key:"create_pdf",value:function(t){var e,n,r,o,i;for(n in(e=new FormData).set("download","1"),t)i=t[n],e.set(n,i);return o=this.get_base_url(),r=new Request(o,{method:"POST",body:e,credentials:"include"}),fetch(r).then((function(t){return t.blob()}))}},{key:"print_pdf",value:function(t){return this.create_pdf(t).then((function(t){var e;return e=window.URL.createObjectURL(t),window.open(e,"_blank")}))}},{key:"load_preview",value:function(t){var e;return e={data:t},this.get_json("load_preview",e)}},{key:"fetch_templates",value:function(){return this.get_json("templates",{method:"GET"})}},{key:"fetch_config",value:function(){return this.get_json("config",{method:"GET"})}},{key:"fetch_paperformats",value:function(){return this.get_json("paperformats",{method:"GET"})}},{key:"render_barcodes",value:function(){return c()(".barcode").each((function(){var t,e,n,r,o,i;if(o=c()(this).attr("data-id"),r=c()(this).attr("data-code"),e=c()(this).attr("data-barHeight"),t=c()(this).attr("data-addQuietZone"),i=c()(this).attr("data-showHRI"),c()(this).barcode(o,r,{barHeight:parseInt(e),addQuietZone:"true"===t,showHRI:"true"===i,output:"bmp"}),"true"===i)return c()(this).find(".barcode-hri").remove(),n="<div class='barcode-hri'>"+o+"</div>",c()(this).append(n)}))}},{key:"render_qrcodes",value:function(){return c()(".qrcode").each((function(){var t,e,n;return n=c()(this).attr("data-text"),e=c()(this).attr("data-size"),t=c()(this).attr("data-color"),c()(this).qrcode({size:e,color:t,text:n,render:"image"}),c()(this).removeClass("qrcode")}))}},{key:"render_ranges",value:function(){return(new RangeGraph).load(),this.convert_svg_to_image()}},{key:"convert_svg_to_image",value:function(){return s("svg").each((function(){var t;return(t=document.createElement("img")).src="data:image/svg+xml;base64,"+btoa(c()(this).parent().html()),s(this).replaceWith(t)}))}},{key:"get_csrf_token",value:function(){return document.querySelector("#protect-script").dataset.token}}],n&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const l=o;function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function y(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(o);if(i){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function c(){var t;p(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(m(t=a.call.apply(a,[this].concat(n))),"handleClick",(function(){t.props.clickHandler()})),t}return n=c,(r=[{key:"render",value:function(){return e().createElement("button",{uid:this.props.uid,name:this.props.name,title:this.props.title,url:this.props.url,onClick:this.props.onClick,className:this.props.className},e().createElement("span",{dangerouslySetInnerHTML:{__html:this.props.text||this.props.title}}))}}])&&h(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function S(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}const R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(o);if(i){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return S(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,t)}return n=c,(r=[{key:"render",value:function(){return this.props.error?e().createElement("div",{id:"error",className:"alert alert-danger"},e().createElement("h4",{className:"alert-heading"},"Ooops, an error occured"),e().createElement("hr",null),e().createElement("pre",null,this.props.error)):null}}])&&_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);var j=n(892),C=n.n(j),E=n(852);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},P(t,e)}function T(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}C()(E.Z,{insert:"head",singleton:!1}),E.Z.locals;var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=D(o);if(i){var n=D(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return T(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,t)}return n=c,(r=[{key:"render",value:function(){return this.props.loading?e().createElement("div",{id:"loader",className:"panel panel-default text-center"},e().createElement("div",{className:"folding"},e().createElement("div",{className:"sk-cube1 sk-cube"}),e().createElement("div",{className:"sk-cube2 sk-cube"}),e().createElement("div",{className:"sk-cube4 sk-cube"}),e().createElement("div",{className:"sk-cube3 sk-cube"})),e().createElement("div",{className:"lead text-muted"},this.props.loadtext)):null}}])&&A(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);const I=N;function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},M(t,e)}function L(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}const F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(o);if(i){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return L(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,t)}return n=c,(r=[{key:"render",value:function(){return e().createElement("select",{value:this.props.value,onChange:this.props.onChange,name:this.props.name,className:this.props.className},e().createElement("option",{key:"portrait",value:"portrait"},"Portrait"),e().createElement("option",{key:"landscape",value:"landscape"},"Landscape"))}}])&&W(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function X(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Y(o);if(i){var n=Y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return X(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).api=t.api,e.state={formats:[]},e}return n=c,r=[{key:"fetch",value:function(){var t=this;this.api.fetch_paperformats().then((function(e){t.setState({formats:e})}))}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"buildOptions",value:function(){for(var t=[],n=this.state.formats,r=0,o=Object.entries(n);r<o.length;r++){var i=q(o[r],2),a=i[0],c=i[1],s="".concat(c.name," (").concat(c.page_width," x ").concat(c.page_height,"mm)");t.push(e().createElement("option",{key:a,value:c.format},s))}return t}},{key:"render",value:function(){return e().createElement("select",{value:this.props.value,onChange:this.props.onChange,name:this.props.name,className:this.props.className},this.buildOptions())}}],r&&G(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);const Q=J;function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},V(t,e)}function tt(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}const nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(o);if(i){var n=et(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tt(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,t)}return n=c,(r=[{key:"render",value:function(){return e().createElement("div",{id:this.props.id,className:this.props.className,dangerouslySetInnerHTML:{__html:this.props.preview}})}}])&&K(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e){return at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},at(t,e)}function ct(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}const ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=st(o);if(i){var n=st(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ct(this,t)});function c(){return ot(this,c),a.apply(this,arguments)}return n=c,(r=[{key:"render",value:function(){return e().createElement("div",{id:this.props.id,className:this.props.className,dangerouslySetInnerHTML:{__html:this.props.html}})}}])&&it(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);var lt=n(311);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}function mt(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}const vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(s,t);var n,r,o,a,c=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(o);if(a){var n=bt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mt(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.call(this,t)}return n=s,(r=[{key:"componentDidUpdate",value:function(){var t=[],e=lt(i().findDOMNode(this));if(e.length>0){t=e.context.getElementsByTagName("input");for(var n=0,r=Object.entries(t);n<r.length;n++){var o=pt(r[n],2);o[0],o[1].addEventListener("change",this.props.onChange)}t=e.context.getElementsByTagName("textarea");for(var a=0,c=Object.entries(t);a<c.length;a++){var s=pt(c[a],2);s[0],s[1].addEventListener("change",this.props.onChange)}t=e.context.getElementsByTagName("select");for(var u=0,l=Object.entries(t);u<l.length;u++){var f=pt(l[u],2);f[0],f[1].addEventListener("change",this.props.onChange)}}}},{key:"render",value:function(){return this.props.controls?e().createElement("div",{name:this.props.name,className:this.props.className,dangerouslySetInnerHTML:{__html:this.props.controls}}):null}}])&&dt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e().Component);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}function Ot(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(o);if(i){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ot(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).api=t.api,e.state={templates:[]},e}return n=c,r=[{key:"fetch",value:function(){var t=this;this.api.fetch_templates().then((function(e){t.setState({templates:e})}))}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"buildOptions",value:function(){var t=[];return this.state.templates.map((function(n){return t.push(e().createElement("option",{key:n,value:n},n))})),t}},{key:"render",value:function(){return e().createElement("select",{value:this.props.value,onChange:this.props.onChange,name:this.props.name,className:this.props.className},this.buildOptions())}}],r&&wt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);const Rt=xt;function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Et(t,e)}function kt(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}const Pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Et(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(o);if(i){var n=At(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kt(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,t)}return n=c,(r=[{key:"render",value:function(){return e().createElement("div",{id:this.props.id,className:"modal fade",tabindex:"-1"})}}])&&Ct(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);var Tt=n(311);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Nt(){return Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nt.apply(this,arguments)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bt(t,e)}function Wt(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}var Ht,Ft=[].indexOf;document.addEventListener("DOMContentLoaded",(function(){return i().render(e().createElement(Ht,null),document.getElementById("publish_controller"))})),Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(o);if(i){var n=Lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wt(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).api=new l,e.handleSubmit=e.handleSubmit.bind(Mt(e)),e.handleChange=e.handleChange.bind(Mt(e)),e.handleCustomAction=e.handleCustomAction.bind(Mt(e)),e.handleModalSubmit=e.handleModalSubmit.bind(Mt(e)),e.loadReports=e.loadReports.bind(Mt(e)),e.saveReports=e.saveReports.bind(Mt(e)),e.on_row_order_change=e.on_row_order_change.bind(Mt(e)),e.listing_el=document.getElementById("impress-contents-table"),e.state={items:e.api.get_items(),html:"",preview:"",format:"A4",orientation:"portrait",template:"",loading:!1,loadtext:"",error:"",controls:"",report_options:{},allow_save:!0,allow_email:!0,custom_actions:[],reload_after_reorder:!1,reload_required:!1},window.impress=Mt(e),e}return n=c,r=[{key:"componentDidUpdate",value:function(){return this.api.render_barcodes(),this.api.render_qrcodes(),this.api.render_ranges()}},{key:"componentDidMount",value:function(){return this.listing_el.addEventListener("listing:row_order_change",this.on_row_order_change,!1),this.api.fetch_config().then(function(t){return this.setState(t,this.loadReports)}.bind(this))}},{key:"componentWillUnmount",value:function(){return this.listing_el.removeEventListener("listing:row_order_change",this.on_row_order_change,!1)}},{key:"getRequestOptions",value:function(){return{items:this.state.items,html:this.getProcessedReportHTML(),format:this.state.format,orientation:this.state.orientation,template:this.state.template,report_options:this.state.report_options}}},{key:"getProcessedReportHTML",value:function(){var t;return(t=document.getElementById("reports"))?t.innerHTML:""}},{key:"loadReports",value:function(){var t,e;return this.setState({html:"",preview:"",error:"",loading:!0,loadtext:"Loading Reports...",reload_required:!1}),e=this.api.render_reports(this.getRequestOptions()),t=this,e.then((function(e){var n;return null!==(n=t.api.parse_html(e).getElementById("controls"))?t.setState({controls:n.innerHTML}):t.setState({controls:""}),t.setState({html:e},(function(){return t.loadScripts(),t.loadPreview()}))})).catch((function(e){return t.setState({html:"",loading:!1,error:e.toString()})}))}},{key:"loadScripts",value:function(){var t,e;return t=this,e=document.getElementsByClassName("report"),Tt.each(e,(function(e,n){var r;return r=n.getElementsByTagName("script"),Tt.each(r,(function(e,n){var r,o;try{return o=n.innerText,window.eval(o)}catch(e){return r=e,t.setState({error:r.toString()})}}))}))}},{key:"loadPreview",value:function(){var t,e;return this.setState({loading:!0,preview:"",loadtext:"Loading Preview..."}),e=this.api.load_preview(this.getRequestOptions()),t=this,e.then((function(e){return t.setState({preview:e,loading:!1})})).catch((function(e){return t.setState({html:"",loading:!1,error:e.toString()})}))}},{key:"toggleLoader",value:function(t,e){var n;return null==e&&(e={}),n=Object.assign({loading:t},e),this.setState(n)}},{key:"createPDF",value:function(){var t,e,n=this;return this.toggleLoader(!0,{loadtext:"Generating PDF ..."}),t=this.getRequestOptions(),(e=this.api.create_pdf(t)).then((function(){return n.toggleLoader(!1)})),e}},{key:"saveReports",value:function(t){var e,n,r,o=this;return t.preventDefault(),this.toggleLoader(!0,{loadtext:"Generating PDF ..."}),(r=this.getRequestOptions()).action=t.currentTarget.name,n=this.api.save_reports(r),e=this,n.then((function(t){return o.toggleLoader(!1),window.location.href=t})).catch((function(t){return e.setState({html:"",loading:!1,error:t.toString()})}))}},{key:"loadModal",value:function(t){var e,n,r=this;return e=Tt("#impress_modal"),this.getActionByURL(t),(t=new URL(t)).searchParams.append("uids",this.state.items),n=new Request(t),fetch(n).then((function(t){return t.text().then((function(t){return e.empty(),e.append(t),e.one("submit",r.handleModalSubmit),e.modal("show")}))}))}},{key:"getActionByURL",value:function(t){var e,n,r,o,i;for(e={},n=0,o=(i=this.state.custom_actions).length;n<o;n++)if((r=i[n]).url===t){e=r;break}return e}},{key:"postAction",value:function(t,e){var n=this;return this.createPDF().then((function(r){return null==e&&(e=new FormData),e.append("pdf",r),e.append("html",n.state.html),e.append("format",n.state.format),e.append("orientation",n.state.orientation),e.append("template",n.state.template),e.append("uids",n.state.items.join(",")),fetch(t,{method:"POST",body:e}).then((function(t){return n.handleActionResponse(t)})).catch((function(t){return n.handleActionError(t)}))}))}},{key:"handleActionResponse",value:function(t){var e=this;return t.ok?t.blob().then((function(t){var n;return(n=t.type).startsWith("application/pdf")?e.handleActionBlobResponse(t):t.text().then((function(t){return n.startsWith("application/json")?e.handleActionJSONResponse(JSON.parse(t)):n.startsWith("text/html")?e.handleActionHTMLResponse(t):void 0}))})):this.handleActionError(t.statusText)}},{key:"handleActionBlobResponse",value:function(t){var e;return e=window.URL.createObjectURL(t),window.open(e,"_blank")}},{key:"handleActionHTMLResponse",value:function(t){var e;return(e=Tt("#impress_modal")).empty(),e.append(t),e.one("submit",this.handleModalSubmit),e.modal("show")}},{key:"handleActionJSONResponse",value:function(t){}},{key:"handleActionError",value:function(t){}},{key:"handleModalSubmit",value:function(t){var e,n,r,o,i;return t.preventDefault(),n=t.target,o=t.currentTarget,i=n.action,e=this.getActionByURL(i),r=new FormData(n),!0===e.close_after_submit&&o.modal("hide"),this.postAction(i,r)}},{key:"handleSubmit",value:function(t){return t.preventDefault()}},{key:"handleChange",value:function(t){var e,n,r,o;return o="checkbox"===(r=t.currentTarget).type?r.checked:r.value,n=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e=r.name,o),Ft.call(this.state,e)<0&&((n=this.state.report_options)[e]=o),this.setState(n,this.loadReports)}},{key:"handleCustomAction",value:function(t){var e;return t.preventDefault(),e=t.currentTarget.getAttribute("url"),!1!==this.getActionByURL(e).modal?this.loadModal(e):this.postAction(e)}},{key:"on_row_order_change",value:function(t){var e;return e=t.detail.folderitems.map((function(t){return t.uid})),this.state.reload_after_reorder?this.setState({items:e},this.loadReports):this.setState({items:e,reload_required:!0})}},{key:"render",value:function(){var t=this;return e().createElement("div",{className:"col-sm-12"},e().createElement(Pt,{className:"modal fade",id:"impress_modal"}),this.state.reload_required&&e().createElement("div",{className:"alert alert-warning"},e().createElement("h4",{className:"alert-heading"},e().createElement("span",{className:"mr-2"},"Reload is required"),e().createElement(g,{name:"reload",title:"",onClick:this.loadReports,className:"btn btn-sm btn-outline-success"}))),e().createElement("form",{name:"publishform",onSubmit:this.handleSubmit},e().createElement("div",{className:"form-group"},e().createElement("div",{className:"input-group"},e().createElement(Rt,{api:this.api,onChange:this.handleChange,value:this.state.template,className:"custom-select",name:"template"}),e().createElement(Q,{api:this.api,onChange:this.handleChange,value:this.state.format,className:"custom-select",name:"format"}),e().createElement(F,{api:this.api,onChange:this.handleChange,value:this.state.orientation,className:"custom-select",name:"orientation"}),e().createElement("div",{className:"input-group-append"},e().createElement(g,{name:"reload",title:"",onClick:this.loadReports,className:"btn btn-outline-success"}),this.state.custom_actions.map((function(n,r){return e().createElement(g,Nt({onClick:t.handleCustomAction,key:n.name|r,title:n.title,text:n.text,name:n.name,className:n.css_class||"btn btn-outline-secondary"},n))})),this.state.allow_email&&e().createElement(g,{name:"email",title:"Email",onClick:this.saveReports,className:"btn btn-outline-secondary"}),this.state.allow_save&&e().createElement(g,{name:"save",title:"Save",onClick:this.saveReports,className:"btn btn-outline-secondary"}))))),e().createElement(vt,{api:this.api,onChange:this.handleChange,controls:this.state.controls,className:"",name:"reportcontrols"}),e().createElement("hr",{className:"my-2"}),e().createElement("div",{className:"row"},e().createElement("div",{className:"col-sm-12"},e().createElement(I,{loadtext:this.state.loadtext,loading:this.state.loading})),e().createElement("div",{className:"col-sm-12"},e().createElement(R,{error:this.state.error}))),e().createElement(nt,{preview:this.state.preview,id:"preview",className:"row"}),e().createElement(ut,{html:this.state.html,id:"reports",className:"d-none"}))}}],r&&It(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component)})()})();